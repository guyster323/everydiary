# v1.0.4 업데이트 계획 (2025-12-27)

## 개선 사항 요약

### 1. UI/UX 개선
- **일기 작성 페이지 폰트 색상 변경**
  - 기본 폰트 색상: White → Black
  - 가독성 향상

### 2. 썸네일 스타일 시스템 개선

#### 2.1 새로운 스타일 추가
- **스타일명**: '산타와 함께' (Santa Together)
- 다국어 지원 (한국어, 영어, 일본어 등)
- 아이콘 이미지 추가: `/assets/icons/Styles/` (320x320px)

#### 2.2 썸네일 스타일 선택 UI 재설계
- **레이아웃**: 3열 그리드 형식
- **아이콘**: `/assets/icons/Styles/` 디렉토리의 각 스타일별 이미지 사용
- **스타일명 표시**: 아이콘 위에 작은 폰트로 스타일명 표시
- **적용 범위**:
  - 일기 작성 페이지 > 썸네일 스타일 변경 아이콘
  - 설정 페이지 > 앱 설정 > 썸네일 스타일

#### 2.3 일기 작성 페이지 버튼 배치 변경
- **썸네일 스타일 버튼 위치**: OCR 버튼과 음성 녹음 버튼 사이로 이동
- **버튼 디자인**: 현재 설정된 썸네일 스타일 이미지를 버튼 배경으로 사용
- **버튼 크기**: 가로 사이즈에 맞춰 이미지 조정

### 3. 광고 보상 시스템 개선
- **이미지 생성 횟수 증가**: 1개 → 2개
- 광고 시청 후 표시되는 메시지 업데이트

### 4. Android 15 호환성 개선

#### 4.1 Edge-to-Edge 지원 중단 API 마이그레이션
- **문제**: Android 15에서 지원 중단된 API 사용으로 인한 경고
- **지원 중단 API**:
  - `android.view.Window.setStatusBarColor`
  - `android.view.Window.setNavigationBarColor`
- **발생 위치**:
  - `io.flutter.embedding.android.FlutterActivity.configureStatusBarForFullscreenFlutterExperience`
  - `io.flutter.embedding.android.FlutterFragmentActivity.configureStatusBarForFullscreenFlutterExperience`
  - `io.flutter.plugin.platform.PlatformPlugin.setSystemChromeSystemUIOverlayStyle`

#### 4.2 개선 방안
- Android 15 edge-to-edge 가이드라인 준수
- 참고: https://developer.android.com/about/versions/15/behavior-changes-15?hl=ko#edge-to-edge
- Flutter의 최신 window insets 처리 방식 적용
- SystemChrome 설정 업데이트

## 기술적 변경 사항

### 파일 수정 목록
- [ ] `lib/features/diary/screens/diary_write_screen.dart` - 폰트 색상, 버튼 배치
- [ ] `lib/core/constants/thumbnail_styles.dart` - 새 스타일 추가
- [ ] 로컬라이징 파일들 - '산타와 함께' 스타일명 번역 추가
- [ ] 썸네일 스타일 선택 위젯 - 3열 그리드 UI 재설계
- [ ] `lib/features/settings/screens/settings_screen.dart` - 썸네일 스타일 선택 UI 적용
- [ ] 광고 보상 관련 파일 - 보상 횟수 및 메시지 수정
- [ ] `android/app/src/main/kotlin/` - Android 플랫폼 코드 개선
- [ ] `android/app/build.gradle` - 설정 확인

### 리소스 추가
- [ ] `/assets/icons/Styles/` 디렉토리에 각 스타일별 아이콘 이미지 추가
- [ ] '산타와 함께' 스타일 아이콘 이미지 (320x320px)

## 테스트 계획
1. 일기 작성 페이지 폰트 색상 확인
2. 새 썸네일 스타일 '산타와 함께' 정상 작동 확인
3. 썸네일 스타일 선택 UI 3열 그리드 표시 확인
4. 일기 작성 페이지 버튼 배치 및 동작 확인
5. 광고 보상 2개 정상 지급 확인
6. Android 15 디바이스에서 경고 메시지 제거 확인
7. 구글 플레이 콘솔 이슈 해결 확인

## 버전 정보
- **버전**: 1.0.4
- **빌드 번호**: 7 (예상)
- **대상 Android SDK**: 35 (Android 15)
- **최소 Android SDK**: 21 (Android 5.0)

## 배포 계획
1. 개발 및 테스트 완료
2. 내부 테스트 (Android 15 디바이스 우선)
3. AAB 빌드 생성
4. 구글 플레이 콘솔 업로드
5. 프로덕션 배포

---

**작성일**: 2025-12-27
**작성자**: Claude Code
